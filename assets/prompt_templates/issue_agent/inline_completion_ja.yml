---
_type: prompt
input_variables:
  - prefix_text
  - suffix_text
  - issue_title
  - project_name
  - cursor_position
  - max_sentences
template: |-
  プロジェクト「{project_name}」の課題「{issue_title}」のテキスト補完を行います。
  
  カーソル位置{cursor_position}からテキストを補完してください。カーソルの直後に来るべき内容のみを書いてください。
  
  現在のテキスト: "{prefix_text}"
  カーソル後のテキスト: "{suffix_text}"
  
  重要なスペース規則:
  1. 現在のテキストが完全な単語で終わっている場合（スペースや句読点で終わる）、補完はスペースで始める
  2. 現在のテキストが単語の途中で終わっている場合（末尾にスペースがない）、スペースなしで単語を続ける
  3. 現在のテキストが句読点で終わっている場合、スペースで始める
  
  例:
  - "Hello" → " team, I need help" (完全な単語、スペースを追加)
  - "Hel" → "lo team, I need help" (不完全な単語、スペースなし)
  - "Hello," → " I need help" (句読点の後、スペースを追加)
  - "問題" → "が発生しました" (完全な単語、適切な接続)
  - "問" → "題が発生しました" (不完全な単語、直接続ける)
  
  ルール:
  - 既存のテキスト「{prefix_text}」の一部を繰り返さない
  - カーソルの直後に来る補完のみを書く
  - 単語境界に注意して適切なスペースを使用する
  - 最大{max_sentences}文のみ
  - カーソル後のテキスト「{suffix_text}」を考慮する
  
  補完テキストのみを返してください。他には何も書かないでください。