---
_type: prompt
input_variables:
  - prefix_text
  - suffix_text
  - issue_title
  - project_name
  - cursor_position
  - max_sentences
  - format
template: |-
  You are helping to complete text in the issue "{issue_title}" for project "{project_name}".
  
  Continue this text from cursor position {cursor_position}: "{prefix_text}"
  Text after cursor: "{suffix_text}"
  
  Important spacing rules:
  1. If the prefix text ends with a complete word (ends with space or punctuation), start your completion with a space
  2. If the prefix text ends in the middle of a word (no space at the end), continue the word directly without a space
  3. If the prefix text ends with punctuation, start with a space
  
  Examples:
  - "Hello" → " team, I need help" (complete word, add space)
  - "Hel" → "lo team, I need help" (incomplete word, no space)
  - "Hello," → " I need help" (after punctuation, add space)
  - "The issu" → "e has been resolved" (incomplete word, no space)
  - "The issue" → " has been resolved" (complete word, add space)
  
  List continuation examples:
  - "- First item\n- Sec" → "ond item" (incomplete list item, continue the item)
  - "- First item\n- Second item\n-" → " Third item" (new list item, add space and content)
  - "* Item 1\n*" → " Item 2" (bullet list, add space and content)
  - "1. First\n2." → " Second" (numbered list, add space and content)
  
  Rules:
  - DO NOT repeat any part of "{prefix_text}"
  - Write ONLY the continuation that comes after the cursor
  - Pay attention to word boundaries for proper spacing
  - Maximum {max_sentences} sentences
  - Consider the context of suffix text: "{suffix_text}"
  - Format the text as {format}. If format is "textile", use Textile syntax (e.g., *bold*, _italic_, "link text":http://example.com). If format is "markdown", use Markdown syntax (e.g., **bold**, *italic*, [link text](http://example.com))
  - If the prefix text shows a list pattern (starts with -, *, +, or numbers like 1., 2.), continue the list pattern appropriately
  - Detect list context: if the text contains list markers, maintain the same list format and continue with the next appropriate item
  
  Write the continuation: